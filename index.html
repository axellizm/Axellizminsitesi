<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neon Profile & Snake Game</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* --- GENEL TASARIM VE DEƒûƒ∞≈ûKENLER --- */
        :root {
            --primary-pink: #ff007f;
            --secondary-pink: #ff66b2;
            --dark-bg: #0a0a0a;
            --glass-bg: rgba(255, 255, 255, 0.07);
            --glass-border: rgba(255, 255, 255, 0.12);
            --text-color: #ffffff;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--dark-bg) 0%, #1a000d 50%, #3d001f 100%);
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--text-color);
            overflow-x: hidden;
            padding: 20px;
        }

        /* --- GLASSMORPHISM KONTEYNER --- */
        .main-container {
            width: 100%;
            max-width: 1100px;
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 30px;
            padding: 20px;
            z-index: 1;
        }

        @media (max-width: 900px) {
            .main-container {
                grid-template-columns: 1fr;
            }
        }

        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 30px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
            transition: var(--transition);
        }

        .glass-panel:hover {
            border-color: var(--primary-pink);
            box-shadow: 0 8px 32px 0 rgba(255, 0, 127, 0.2);
        }

        /* --- PROFƒ∞L B√ñL√úM√ú --- */
        .profile-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .avatar-preview {
            width: 100px;
            height: 100px;
            background: var(--primary-pink);
            font-size: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            margin: 0 auto 15px;
            box-shadow: 0 0 20px var(--primary-pink);
            transition: var(--transition);
        }

        .profile-name { font-size: 1.5rem; font-weight: 600; margin-bottom: 5px; }
        .profile-bio { font-size: 0.9rem; opacity: 0.8; line-height: 1.4; }

        .edit-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        label { font-size: 0.8rem; font-weight: 600; color: var(--secondary-pink); }

        input, textarea, select {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--glass-border);
            padding: 12px;
            border-radius: 12px;
            color: white;
            outline: none;
            transition: var(--transition);
        }

        input:focus { border-color: var(--primary-pink); }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .emoji-btn {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            padding: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .emoji-btn:hover, .emoji-btn.active {
            background: var(--primary-pink);
            transform: scale(1.1);
        }

        /* --- YILAN OYUNU B√ñL√úM√ú --- */
        .game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        #gameCanvas {
            background: #000;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 0, 127, 0.3);
            max-width: 100%;
            height: auto;
            touch-action: none;
        }

        .score-board {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 15px;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .game-controls {
            margin-top: 20px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .btn {
            background: var(--primary-pink);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 0, 127, 0.4);
        }

        .control-btn {
            width: 50px;
            height: 50px;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
        }

        #startBtn { margin-top: 10px; width: 100%; }

        /* Mobil Kontroller */
        .mobile-pad {
            display: none;
            margin-top: 20px;
        }

        @media (max-width: 600px) {
            .mobile-pad { display: grid; }
        }

        /* --- ANƒ∞MASYONLAR --- */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.85);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            display: none;
            width: 80%;
            border: 2px solid var(--primary-pink);
        }
    </style>
</head>
<body>

    <div class="main-container">
        
        <!-- PROFIL B√ñL√úM√ú -->
        <section class="glass-panel">
            <div class="profile-display" id="profileCard">
                <div class="avatar-preview" id="avatarView">üë§</div>
                <h2 class="profile-name" id="nameView">Kullanƒ±cƒ± Adƒ±</h2>
                <p class="profile-bio" id="bioView">Kƒ±sa biyografiniz burada g√∂r√ºnecek.</p>
            </div>

            <div class="edit-form">
                <div class="input-group">
                    <label>ADINIZ</label>
                    <input type="text" id="nameInput" placeholder="Adƒ±nƒ±zƒ± yazƒ±n..." maxlength="20">
                </div>
                <div class="input-group">
                    <label>BIO</label>
                    <textarea id="bioInput" rows="2" placeholder="Kendinizden bahsedin..." maxlength="60"></textarea>
                </div>
                <div class="input-group">
                    <label>TEMA RENGƒ∞</label>
                    <input type="color" id="colorInput" value="#ff007f">
                </div>
                <div class="input-group">
                    <label>AVATAR SE√áƒ∞N</label>
                    <div class="emoji-grid">
                        <button class="emoji-btn" onclick="setEmoji('üë§')">üë§</button>
                        <button class="emoji-btn" onclick="setEmoji('üê±')">üê±</button>
                        <button class="emoji-btn" onclick="setEmoji('ü¶ä')">ü¶ä</button>
                        <button class="emoji-btn" onclick="setEmoji('üöÄ')">üöÄ</button>
                        <button class="emoji-btn" onclick="setEmoji('üëæ')">üëæ</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- OYUN B√ñL√úM√ú -->
        <section class="glass-panel game-container">
            <div class="score-board">
                <span>SKOR: <span id="score">0</span></span>
                <span>EN Y√úKSEK: <span id="highScore">0</span></span>
            </div>
            
            <div style="position: relative;">
                <canvas id="gameCanvas" width="350" height="350"></canvas>
                <div id="gameOverScreen" class="game-over">
                    <h2 style="color: var(--primary-pink);">OYUN Bƒ∞TTƒ∞!</h2>
                    <p id="finalScoreText" style="margin: 10px 0;">Skor: 0</p>
                    <button class="btn" onclick="resetGame()">TEKRAR DENE</button>
                </div>
            </div>

            <button id="startBtn" class="btn">OYUNU BA≈ûLAT</button>

            <!-- Mobil Y√∂n Tu≈ülarƒ± -->
            <div class="mobile-pad">
                <div></div>
                <button class="btn control-btn" onclick="changeDir('UP')">‚ñ≤</button>
                <div></div>
                <button class="btn control-btn" onclick="changeDir('LEFT')">‚óÄ</button>
                <button class="btn control-btn" onclick="changeDir('DOWN')">‚ñº</button>
                <button class="btn control-btn" onclick="changeDir('RIGHT')">‚ñ∂</button>
            </div>
        </section>

    </div>

    <script>
        /* --- PROFIL Y√ñNETƒ∞Mƒ∞ (LocalStorage) --- */
        const nameInput = document.getElementById('nameInput');
        const bioInput = document.getElementById('bioInput');
        const colorInput = document.getElementById('colorInput');
        
        const nameView = document.getElementById('nameView');
        const bioView = document.getElementById('bioView');
        const avatarView = document.getElementById('avatarView');

        let profileData = {
            name: "Neon Player",
            bio: "Kod yazmayƒ± ve oyun oynamayƒ± sever.",
            color: "#ff007f",
            emoji: "üë§"
        };

        // Verileri Y√ºkle
        function loadProfile() {
            const saved = localStorage.getItem('neon_profile');
            if (saved) {
                profileData = JSON.parse(saved);
                nameInput.value = profileData.name;
                bioInput.value = profileData.bio;
                colorInput.value = profileData.color;
                updateUI();
            }
        }

        function updateUI() {
            nameView.innerText = profileData.name || "ƒ∞simsiz";
            bioView.innerText = profileData.bio || "Biyografi yok...";
            avatarView.innerText = profileData.emoji;
            avatarView.style.background = profileData.color;
            avatarView.style.boxShadow = `0 0 20px ${profileData.color}`;
            document.documentElement.style.setProperty('--primary-pink', profileData.color);
            saveData();
        }

        function saveData() {
            localStorage.setItem('neon_profile', JSON.stringify(profileData));
        }

        function setEmoji(emoji) {
            profileData.emoji = emoji;
            updateUI();
        }

        nameInput.oninput = (e) => { profileData.name = e.target.value; updateUI(); };
        bioInput.oninput = (e) => { profileData.bio = e.target.value; updateUI(); };
        colorInput.oninput = (e) => { profileData.color = e.target.value; updateUI(); };

        /* --- YILAN OYUNU MANTIƒûI --- */
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const scoreEl = document.getElementById("score");
        const highScoreEl = document.getElementById("highScore");
        const startBtn = document.getElementById("startBtn");
        const gameOverScreen = document.getElementById("gameOverScreen");

        const box = 17.5; // Grid boyutu
        let snake = [{x: 9 * box, y: 10 * box}];
        let food = {
            x: Math.floor(Math.random() * 19 + 1) * box,
            y: Math.floor(Math.random() * 19 + 1) * box
        };
        let score = 0;
        let d = "";
        let game;
        let hScore = localStorage.getItem('snake_highscore') || 0;
        highScoreEl.innerText = hScore;

        document.addEventListener("keydown", direction);

        function direction(event) {
            let key = event.keyCode;
            if(key == 37 && d != "RIGHT") d = "LEFT";
            else if(key == 38 && d != "DOWN") d = "UP";
            else if(key == 39 && d != "LEFT") d = "RIGHT";
            else if(key == 40 && d != "UP") d = "DOWN";
        }

        function changeDir(dir) {
            if(dir == "LEFT" && d != "RIGHT") d = "LEFT";
            if(dir == "UP" && d != "DOWN") d = "UP";
            if(dir == "RIGHT" && d != "LEFT") d = "RIGHT";
            if(dir == "DOWN" && d != "UP") d = "DOWN";
        }

        function collision(head, array) {
            for(let i = 0; i < array.length; i++){
                if(head.x == array[i].x && head.y == array[i].y) return true;
            }
            return false;
        }

        function draw() {
            ctx.fillStyle = "black";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Yƒ±lanƒ± √áiz
            for(let i = 0; i < snake.length; i++){
                ctx.fillStyle = (i == 0) ? profileData.color : "#ffffff";
                ctx.shadowBlur = 10;
                ctx.shadowColor = profileData.color;
                ctx.fillRect(snake[i].x, snake[i].y, box, box);
                ctx.strokeStyle = "black";
                ctx.strokeRect(snake[i].x, snake[i].y, box, box);
                ctx.shadowBlur = 0;
            }

            // Yemi √áiz
            ctx.fillStyle = "#00ffcc"; // Neon turkuaz yem
            ctx.shadowBlur = 15;
            ctx.shadowColor = "#00ffcc";
            ctx.beginPath();
            ctx.arc(food.x + box/2, food.y + box/2, box/2.5, 0, Math.PI*2);
            ctx.fill();
            ctx.shadowBlur = 0;

            let snakeX = snake[0].x;
            let snakeY = snake[0].y;

            if( d == "LEFT") snakeX -= box;
            if( d == "UP") snakeY -= box;
            if( d == "RIGHT") snakeX += box;
            if( d == "DOWN") snakeY += box;

            // Yemi yeme kontrol√º
            if(snakeX == food.x && snakeY == food.y){
                score++;
                scoreEl.innerText = score;
                food = {
                    x: Math.floor(Math.random() * 19 + 1) * box,
                    y: Math.floor(Math.random() * 19 + 1) * box
                };
            } else {
                snake.pop();
            }

            let newHead = { x: snakeX, y: snakeY };

            // Oyun biti≈ü kontrolleri
            if(snakeX < 0 || snakeX >= canvas.width || snakeY < 0 || snakeY >= canvas.height || collision(newHead, snake)){
                clearInterval(game);
                endGame();
            }

            snake.unshift(newHead);
        }

        function endGame() {
            if(score > hScore) {
                hScore = score;
                localStorage.setItem('snake_highscore', hScore);
                highScoreEl.innerText = hScore;
            }
            document.getElementById('finalScoreText').innerText = "Skor: " + score;
            gameOverScreen.style.display = "block";
            startBtn.style.display = "block";
        }

        function resetGame() {
            snake = [{x: 9 * box, y: 10 * box}];
            score = 0;
            scoreEl.innerText = score;
            d = "";
            gameOverScreen.style.display = "none";
            startBtn.style.display = "none";
            clearInterval(game);
            game = setInterval(draw, 100);
        }

        startBtn.onclick = resetGame;

        // Ba≈ülangƒ±√ß Y√ºklemesi
        window.onload = () => {
            loadProfile();
            // Canvas'ƒ± ilk ba≈üta siyah boya
            ctx.fillStyle = "black";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        };
    </script>
</body>
</html>
